\documentclass[Screen16to9,17pt]{foils}
\usepackage{zencurity-slides}
\externaldocument{system-integration-exercises}
\selectlanguage{english}

% Systemintegration

\begin{document}

\mytitlepage
{10. Transactions and idempotency}
{KEA System Integration F2020 10 ECTS}


\slide{This weeks Agenda in system integration}

\begin{list2}
\item Follow the plan:\\
\url{https://zencurity.gitbook.io/kea-it-sikkerhed/system-integration/lektionsplan}
\item Work on the hand-in assignment I: Describe the system environment for an organisation
\item Plan for May 4.\\
I will go through the subjects from the book
\item
\end{list2}

\slide{Goals for today}

\hlkimage{6cm}{thomas-galler-hZ3uF1-z2Qc-unsplash.jpg}

Todays goals:
\begin{list2}
\item Talk about selecting technologies
\item Camel books chapters 12-13
\item Talk about the hand-inn assignment
\end{list2}

Photo by Thomas Galler on Unsplash


\slide{Time schedule}
\begin{list2}
\item 08:30 2x 45 min with 10min break\\
Documentation in Enterprises\\
Open discussion how to select technologies
\item 10:15 2x 45 min with 10min break\\
Camel ch 12-13\\
Chapter 12: Transactions and idempotency\\
Chapter 13: Parallel processing
\item 12:30 2x 45min with 10min break \\
Hand-inn assignment hints and walk-through
\item 14:15 45 min\\
Chatting, doing exercises, questions about Linux
\end{list2}




\slide{Plan for today}

\begin{list2}
\item How to select technologies in an organisation
\item Documentation in Enterprises
\item Transactions and idempotency
\item Parallel processing with Camel
\item Hand-inn assignment hints and walk-through
\end{list2}

Exercises
\begin{list2}
\item Open Discussion about selecting technologies
\item Camel book and Java stuff
\end{list2}

\slide{Selecting Technologies for your enterprise}

\hlkimage{14cm}{software.pdf}




\slide{Why talk about selecting technologies }

\hlkimage{7cm}{johnny_automatic_blueprints.png}


\begin{list2}
\item A big part of systems integration it to make sure applications can work together
\item Data interchange
\item Running systems require skills, many different technologies, many humans needed
\item Managing complexity with many systems become harder
\end{list2}

Later today we will discuss this subject more with the hand-in assigment

\slide{Secure Infrastructures starts with architecture and design}

%\hlkimage{5cm}{secure_coding.png}

\vskip 2cm
\hlkrightimage{5cm}{secure_coding.png}
{\emph{Secure Coding: Principles and Practices} af Mark G. Graff, Kenneth R. Van Wyk 2003}



\begin{list1}
\item Architecture and design while you are thinking about the application
\item Implementation while you are writing the application
\item Operations After the application is in production
\item Approx. 200 pages, but very dense with information.
\end{list1}



\slide{Operating Systems}

\hlkimage{4cm}{tux.jpg}

\begin{list2}
\item Applications need to run within some controlled system
\item What is an operating system today?
\item Is Docker an operating system? What is Docker?
\end{list2}



\slide{Use the Modern Operating Systems}

\begin{list1}
\item Newer versions of Microsoft Windows, Mac OS X and Linux
\begin{list2}
\item Buffer overflow protection
\item Stack protection, non-executable stack
\item Heap protection, non-executable heap
\item \emph{Randomization of parameters} stack gap m.v.
\end{list2}
\item Note: these still have errors and bugs, but are better than older versions
\item Check end-of-life and when updates will stop for each version
\item OpenBSD has shown the way in many cases\\ \link{http://www.openbsd.org/papers/}
\end{list1}

\vskip 1cm

\centerline{Always try to make life worse and more costly for attackers}



\slide{Building Secure Infrastructures}

\begin{list1}
\item We did an exercise last time, starting to build a DMZ for servers
\item A real-life setup of an infrastructure from scratch can be daunting!
\item You need:
\begin{list2}
\item Policies
\item Procedures
\item Incident Response
\end{list2}
\item Running systems which require
\begin{list2}
\item Configurations
\item Settings
\item Supporting infrastructure -- networks
\item Supporting infrastructure -- logging, dashboarding, monitoring
\end{list2}
\item Building something \emph{secure} is {\bf hard work!}
\end{list1}



\slide{Existing infrastructures}

\begin{list1}
\item or even worse you inherited an infrastructure
\item Multiple networks, with different vendors, rules
\item Multiple generations of services, applications, technologies
\item Built over decades
\item Varying to no documentation
\item Organizational challenges
\item Ingrained culture -- frozen in time
\end{list1}

How do you get started improving security?



\slide{Documentation in Enterprises}

\hlkrightpic{12cm}{0cm}{apache-docs.pdf}

What tools exist?
\begin{list2}
\item Office tools like Microsoft Word and Excel
\item Wikis
\item Online documentation like Apache projects
\item Specialized systems, collecting data automatically
\item Example BornHack repositories\\
 \link{https://github.com/bornhack}
\end{list2}



\slide{Center for Internet Security CIS Controls}

\begin{quote}
  The CIS ControlsTM are a prioritized set of actions that collectively form a defense-in-depth set
of best practices that mitigate the most common attacks against systems and networks. The
CIS Controls are developed by a community of IT experts who apply their first-hand experience
as cyber defenders to create these globally accepted security best practices. The experts who
develop the CIS Controls come from a wide range of sectors including retail, manufacturing,
healthcare, education, government, defense, and others.
\end{quote}

Source: \link{https://www.cisecurity.org/} CIS-Controls-Version-7-1.pdf

\slide{Center for Internet Security CIS Controls 7.1}

\begin{list2}
\item
The five critical tenets of an effective cyber defense system as reflected
in the CIS Controls are:
\item {\bf Offense informs defense:} Use knowledge of actual attacks that have
compromised systems to provide the foundation to continually learn
from these events to build effective, practical defenses. Include only
those controls that can be shown to stop known real-world attacks.
\item {\bf Prioritization:} Invest first in Controls that will provide the greatest risk
reduction and protection against the most dangerous threat actors
and that can be feasibly implemented in your computing environment.
The CIS Implementation Groups discussed below are a great place for
organizations to start identifying relevant Sub-Controls.
\item {\bf Measurements and Metrics:} Establish common metrics to provide a
shared language for executives, IT specialists, auditors, and security
officials to measure the effectiveness of security measures within
an organization so that required adjustments can be identified and
implemented quickly.
\item {\bf Continuous diagnostics and mitigation:} Carry out continuous
measurement to test and validate the effectiveness of current security
measures and to help drive the priority of next steps.
\item {\bf Automation:} Automate defenses so that organizations can achieve
reliable, scalable, and continuous measurements of their adherence to
the Controls and related metrics. \hskip 2cm Source: CIS-Controls-Version-7-1.pdf
\end{list2}


\slide{Inventory and Control of Hardware Assets}

CIS controls 1-6 are Basic, everyone must do them.


\begin{quote}
CIS Control 1:\\
Inventory and Control of Hardware Assets\\
Actively manage (inventory, track, and correct) all hardware devices on the network so that only authorized devices are given access, and unauthorized and unmanaged devices are found and prevented from gaining access.
\end{quote}

\begin{list1}
\item What is connected to our networks?
\item What firmware do we need to install on hardware?
\item Where IS the hardware we own?
\item What hardware is still supported by vendor?
\end{list1}

Source: Center for Internet Security CIS Controls 7.1 CIS-Controls-Version-7-1.pdf


\slide{Inventory and Control of Software Assets}

\begin{quote}
CIS Control 2:\\
Inventory and Control of Software Assets\\
Actively manage (inventory, track, and correct) all software on the network so that only authorized software is installed and can execute, and that all unauthorized and unmanaged software is found and prevented from installation or execution.
\end{quote}

\begin{list1}
\item What licenses do we have? Paying too much?
\item What versions of software do we depend on?
\item What software needs to be phased out, upgraded?
\item What software do our employees need to support?
\end{list1}

Source: Center for Internet Security CIS Controls 7.1 CIS-Controls-Version-7-1.pdf


\slide{Hardware asset management}

\hlkimage{9cm}{racktables-shot-indexpage.png}

\begin{list2}
\item Many systems exist
\item Recommend systems designed for this task, like RackTables:\\
Have a list of all devices you've got,
Have a list of all racks and enclosures,
Mount the devices into the racks,
Maintain physical ports of the devices and links between them
\item \link{https://www.racktables.org/}
\end{list2}

\slide{Software asset management - virtual archives}

\hlkimage{9cm}{datalaek-2019.png}

\begin{list2}
\item Software - licenses, procurement, use, upgrade prices
\item Virtual servers - is a server an asset, or the data?
\item IP addresses - current price per IPv4 public IP is about \$30
\item Data archives - GDPR, pictures is from Version2.dk listing data leaks
\end{list2}

\slide{IP Address Management IPAM }

\hlkimage{18cm}{nipap-search.png}
\begin{list2}
\item Recommend Nipap \link{http://spritelink.github.io/NIPAP/}
\end{list2}

\slide{What about dependencies}

.
\hlkrightpic{8cm}{-2cm}{kyler-trautner-693525-unsplash.jpg}

\begin{list2}
\item Are you using some special software, or hardware
\item Does your application depend on some tools, library that needs help
\end{list2}


\slide{Building a Castle}

\hlkimage{8cm}{medieval-clipart-5}

\begin{list2}
\item Open discussion how to select technologies
\item - and how to manage it, starting with documentation
\item Need to have, nice to have, alternatives
\item Which technologies do you know
\item Which technologies do you need?
\end{list2}






\slide{Reading Summary}

\begin{list1}
\item Camel ch 12-13
\item Chapter 12: Transactions and idempotency
\item Chapter 13: Parallel processing
\end{list1}

\emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018, 2nd edition
ISBN: 978-1-61729-293-4


\slide{Camel chapter 12: Transactions and idempotency}

This chapter covers
\begin{list2}
\item Understanding why you need transactions
\item Using and configuring transactions
\item Understanding the differences between
local and global transactions
\item Using transactions with messaging and databases
\item Rolling back transactions
\item Compensating when transactions aren’t supported
\item Preventing duplicate messages by using idempotency
\item Learning about the idempotent repository
implementations shipped out of the box
\end{list2}
Source: {\footnotesize\\

\emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018}, 2nd edition
ISBN: 978-1-61729-293-4





\slide{Camel chapter 13: Parallel processing}

This chapter covers
\begin{list2}
\item This chapter covers
\item Camel’s threading model
\item Configuring thread pools and thread profiles
\item Using concurrency with EIPs
\item Handling scalability with Camel
\item Writing asynchronous Camel components
\end{list2}
Source: {\footnotesize\\

\emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018}, 2nd edition
ISBN: 978-1-61729-293-4




\slide{Hand-inn assignment hints and walk-through}


Hand-in assignment hints and walk-through

\begin{list2}
  \item Read the hand-in assignment description
  \item Number the tasks per chapter, main chapters are listed
  \item Do each chapter before going to the next one
\end{list2}

Help:\\
Think about what you would like to receive if you were responsible for buying hardware, selecting software and hiring people.

\slide{Hand-in assignment I}


Hand-in assignment I: Describe the system environment for an organisation

{\bf Assignment:}\\
Consider a system environment running the services we have presented in this course. The services are:

\begin{list2}
\item Tomcat J2EE server, we ran this early in the course and this can be used for running Camel in production
\item Camel we have run this multiple times during the course
\item PostgreSQL Server
\end{list2}

\slide{Report Contents}

\begin{enumerate}
\item Company back story, create back story similar to the SOA book chapter 2 for your fictive company
\item Describe the software requirements for each of the above systems and create summary of the environment as a whole. Any synergies?\\
Dont forget that these systems cannot float in free space, but requires one or more operating systems, which you must choose. Maybe include some monitoring and configuration management like Ansible.
\item Describe the hardware requirements for your initial deployment, taking into account creating a more production ready system. Do you need development, staging, testing, production systems, some redundancy?
\item Suggest an initial deployment overview - little detail, with a naming scheme to use for servers, physical and virtual
\item Create a list of skills requirements for running this environment. Consider job postings for similar jobs, and you may copy parts of that and adapt
\end{enumerate}


\slide{Report Contents}

The report should include the following sections at least:
\begin{list2}
\item Title, Table of contents, formal report thanks
\item Confidentiality agreement -- Write "Confidential" on each page
\item Appendices
\end{list2}

Must be handed in as PDF and latest on May 7, 2020 at 23:59. Teams up to five are allowed. Make sure to list team members in the report.

Expect PDF as A4, portrait mode around 10 pages with illustrations as needed.
No more than 15 pages if 3 members. Up to 25 pages if five members.

This should be a formal business report with page numbers, ToC etc.

\slide{How Will the Report Look}

\begin{quote}{\bf\large
Hand-in Assignment I:
Zencurity System Environment}

Author: Henrik Kramselund Jereminsen
\begin{alltt}
  Table of Contents
  Introduction                               1
  1. Company story                           2
  2. Software Requirements for Zencurity     3
  2.1 Tomcat server requirements             3
  2.2 Camel software requirements            4
  2.3 PostgreSQL database requirements       5
  3. Hardware requirements                   6
  4. Deployment overview                     X
  4.1 Naming Scheme                          X
  5. Administrator Skills requirements       X
\end{alltt}
\end{quote}








\slidenext

\end{document}
