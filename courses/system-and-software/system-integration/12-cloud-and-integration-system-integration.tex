\documentclass[Screen16to9,17pt]{foils}
\usepackage{zencurity-slides}
\externaldocument{system-integration-exercises}
\selectlanguage{english}

% Systemintegration

\begin{document}

\mytitlepage
{12. Cloud and Cloud integration}
{KEA System Integration F2020 10 ECTS}



\slide{This weeks Agenda in system integration}

\begin{list2}
\item Follow the plan:\\
\url{https://zencurity.gitbook.io/kea-it-sikkerhed/system-integration/lektionsplan}
\item Plan for May 25.\\
I will go through the last subjects from the last book
\item Talk about exam, online exam, subjects
\end{list2}

\slide{Goals for today}

\hlkimage{6cm}{thomas-galler-hZ3uF1-z2Qc-unsplash.jpg}

Todays goals:
\begin{list2}
\item Finish the Camel book
\item Repeat some stuff, relate it, get an overview og system integration
\item Talk about exam, online exam, subjects
\end{list2}

Photo by Thomas Galler on Unsplash


\slide{Time schedule}
\begin{list2}
\item 08:30 2x 45 min with 10min break\\
Kubernetes\\
Camel chapter 18: Microservices with Docker and Kubernetes
\item 10:15 2x 45 min with 10min break\\
Repeat stuff, relate to other parts\\
Try to tie everything together -- get an overview
\item 12:30 2x 45 min with 10min break \\
Talk about exam, online exam, subjects
\item 14:15 45 min\\
Questions and exercises
\end{list2}





\slide{Plan for today}

\begin{list2}
\item Microservices with Docker and Kubernetes
\item Cloud and Cloud integration
\item Running Camel on Docker
\item Getting started with Kubernetes -- not running Kubernetes today
\end{list2}

Exercises
\begin{list2}
\item Running Java microservices on Docker
\item Getting started with Kubernetes -- run Minikube
\end{list2}




\slide{Part I 08:30 2x 45 min}

Kubernetes

Microservices with Docker and Kubernetes


\slide{Docker }

%\hlkimage{}{}

\begin{quote}
  Package Software into Standardized Units for Development, Shipment and Deployment
  A container is a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another. A Docker container image is a lightweight, standalone, executable package of software that includes everything needed to run an application: code, runtime, system tools, system libraries and settings.
\end{quote}
Source: \\{\footnotesize
\url{https://www.docker.com/resources/what-container}}

\begin{list2}
  \item One of the most popular deployment methods today
\end{list2}

\slide{Containerized Applications}

\hlkimage{8cm}{container-what-is-container.png}

Source: {\footnotesize
\url{https://www.docker.com/resources/what-container}}

\begin{list2}
  \item See also \link{https://en.wikipedia.org/wiki/Linux_namespaces}\\
   \emph{Various container software use Linux namespaces in combination with cgroups to isolate their processes, including Docker[11] and LXC.}
\end{list2}

\slide{Docker Images and layers}

\hlkimage{10cm}{container-layers.jpg}

\begin{quote}
A Docker image is built up from a series of layers. Each layer represents an instruction in the image’s Dockerfile. Each layer except the very last one is read-only.
\end{quote}

Source: {\footnotesize
\link{https://docs.docker.com/storage/storagedriver/}}



\slide{Kubernetes}

%\hlkimage{}{}

\begin{quote}
  Kubernetes (K8s) is an open-source system for automating deployment, scaling, and management of containerized applications.
  It groups containers that make up an application into logical units for easy management and discovery. Kubernetes builds upon 15 years of experience of running production workloads at Google, combined with best-of-breed ideas and practices from the community.
\end{quote}
Source: {\footnotesize
\link{https://kubernetes.io/}}

Key points:
\begin{list2}
\item Open source originally from Google
\item Scalable
\item Uses containers inside
\item Infrastructure as code
\end{list2}


\slide{Infrastructure as code}

%\hlkimage{}{}

\begin{quote}
{\bf Infrastructure as code (IaC)} is the process of managing and provisioning computer data centers through machine-readable definition files, rather than physical hardware configuration or interactive configuration tools.[1] The IT infrastructure managed by this comprises both physical equipment such as bare-metal servers as well as virtual machines and associated configuration resources. The definitions may be in a version control system. It can use either scripts or declarative definitions, rather than manual processes, but the term is more often used to promote declarative approaches.
\end{quote}
Source: {\footnotesize
\link{https://en.wikipedia.org/wiki/Infrastructure_as_code}}

\begin{list2}
  \item Has become the norm in many places
\end{list2}


\slide{Exercise: Lets run Kubernetes}

\hlkimage{10cm}{kubernetes-minikube.png}

\begin{list2}
  \item \link{https://kubernetes.io/docs/tutorials/hello-minikube/}
\end{list2}



\slide{Camel chapter 18: Microservices with Docker and Kubernetes}

This chapter covers
\begin{list2}
\item Running Camel on Docker
\item Getting started with Kubernetes
\item Running and debugging Camel on Kubernetes
\item Understanding essential Kubernetes concepts
\item Building resilient microservices on Kubernetes
\item Testing Camel microservices on Kubernetes
\item Introducing fabric8, Kubernetes Helm, and OpenShift
\end{list2}

Source: {\footnotesize\\
\emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018, 2nd edition
ISBN: 978-1-61729-293-4}



\slide{18.1.2 Running Camel on Docker}

%\hlkimage{}{}


  the Dockerfile you’ll use to run the Spring Boot client microservice contains
  just three lines of text:
\begin{alltt}
  FROM openjdk:latest
  COPY maven /maven/
  CMD java -jar maven/spring-­docker-2.0.0.jar
\end{alltt}

  A Docker image is a compressed TAR file that includes the Dockerfile in the root
  alongside other files you want to include in the image. The Spring Boot Docker image
  consists of only two files:
\begin{alltt}
  maven/spring-­docker-2.0.0.jar
  Dockerfile
\end{alltt}

\begin{list2}
  \item We have seen problems with various JDK versions
  \item Running on Docker might be simpler
  \item Help available: {\footnotesize\link{https://docs.docker.com/develop/develop-images/dockerfile_best-practices/}}
\end{list2}



\slide{Getting started with Kubernetes: Minikube}


\begin{alltt}
  minikube start --cpus 2 --memory 2048 --disk-­size 10g
\end{alltt}
The last parameter is important; it specifies which VM driver to use (see Minikube documentation for details). After the installation is complete, you can get the status of Minikube:
\begin{alltt}
  $ minikube status
  minikubeVM: Running
  localkube: Running
  kubectl: Correctly Configured: pointing to minikube-­vm at 192.168.64.2
\end{alltt}

This means the local Kubernetes cluster is up and running.

\begin{list2}
\item We already saw Minikube running in our browser
\end{list2}


\slide{Running and debugging Camel on Kubernetes}

%\hlkimage{}{}

\begin{quote} {\bf
18.3 Running Camel and other applications in Kubernetes}
When you {\bf run applications\\
on Kubernetes, they run as containers loaded from Docker images.} The information you learned in the previous section about running Camel on Docker is required knowledge for working with Kubernetes.
\end{quote}

\begin{list2}
\item
\end{list2}

\slide{Understanding essential Kubernetes concepts}

%\hlkimage{}{}

\begin{alltt}
$ kubectl get deployment -o yaml hello-­world
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    deployment.kubernetes.io/revision: "1"
  creationTimestamp: 2017-11-04T20:33:36Z
  generation: 1
  labels:
    foo: bar
  name: hello-­world
  ...
\end{alltt}

\begin{list2}
\item Example YAML file from Kubernetes
\end{list2}




\slide{Building resilient microservices on Kubernetes}

\hlkimage{18cm}{kubernetes-scaling-up.png}

\begin{list2}
\item Kubernetes can be told to create more pods/containers
\item AND can check if it alive and good
\end{list2}



\slide{Introducing fabric8, Kubernetes Helm, and OpenShift}

%\hlkimage{}{}

\begin{quote}

\end{quote}

Book lists multiple tools that can help making Java applications Kubernetes-ready:
\begin{list2}
\item Docker Maven plugin
\item Kubernetes-ready fabric8 Maven plugin
\item Kubernetes Helm
\item OpenShift
\end{list2}

We wont go into detail with these, and check if better tools are available before use

\slide{Securing Kubernetes}

%\hlkimage{}{}

\begin{quote}
  Attacking and Defending Kubernetes, with Ian Coldwater\\
  Ian Coldwater specializes in breaking and hardening Kubernetes, containers, and cloud native infrastructure. A pre-eminent voice in the Kubernetes security community, Ian is currently a Lead Platform Security Engineer at Heroku. Ian joins Adam Glick and Craig Box to talk about the offensive and defensive arts.
\end{quote}
{\footnotesize\link{https://www.heroku.com/podcasts/kubernetes-podcast-from-google/attacking-and-defending-kubernetes-with-ian-coldwater}}

\begin{list2}
  \item Securing Kubernetes can be hard work
  \item
  \item follow Ian Coldwater, @IanColdwater \link{https://twitter.com/iancoldwater}
\end{list2}



\slide{Part II 10:15 2x 45 min}

Repeat stuff, relate to other parts\\
Try to tie everything together -- get an overview


\slide{Helm Database}

%\hlkimage{}{}

\begin{quote}

\end{quote}

\begin{list2}
  \item Book uses Helm to deploy a database
  \item Easier than running Postgresql yourself?
  \item Do you want your database inside Kubernetes? why/why not
\end{list2}

\slide{Similar thoughts about load balancing}

%\hlkimage{}{}

\begin{quote}

\end{quote}

\begin{list2}
  \item Do we run everything inside the Kubernetes cluster?
  \item Do we want/need hardware acceleration for things like load balancing and HTTPS/TLS termination
\end{list2}


\slide{Part III 12:30 2x 45min}

Online exam: 29/6, 30/6 2020

Lets talk about it


\slide{Definition}

\begin{quote}
  System integration is defined in engineering as the process of bringing together the component sub-systems into one system (an aggregation of subsystems cooperating so that the system is able to deliver the overarching functionality) and ensuring that the subsystems function together as a system,[1] and in information technology[2] as the process of linking together different computing systems and software applications physically or functionally,[3] to act as a coordinated whole.

  The system integrator integrates discrete systems utilizing a variety of techniques such as computer networking, enterprise application integration, business process management or manual programming.[4]
\end{quote}

Source:\\
\url{https://en.wikipedia.org/wiki/System_integration}



\slide{Intended Learning Outcomes}

\begin{list1}
\item To get acquainted with the challenges of developing business applications
\item To understand the difference between
\begin{list2}
\item tightly coupled and loosely coupled system
\item synchronous and asynchronous integration
\end{list2}
\item To get an overview of existing technologies and solutions in system integration
\item To get programming practice in developing P2P integration using networking
protocols
\end{list1}

\slide{Course Description}

From: STUDIEORDNING

{\bf Knowledge}

The objective is to give the student knowledge of

\begin{list2}
\item business considerations associated with system integration
\item standards and standardization organizations
\item storage, transformation and integration of data resources
\item techniques used in data conversion and migration
\item the service concept and understanding of its connection with service-oriented architecture
\item technologies that can be used to implement a service-oriented architecture
\item integration tools
\end{list2}

\slide{Skills}

{\bf Skills}

The objective is that the students acquire the ability to

\begin{list2}
\item use object-oriented system in service-oriented architecture
\item design a system for easy integration with other systems and using existing services
\item transform or expand a system, so that it can work in a service-oriented architecture
\item apply patterns that support system integration
\item develop supplementary modules for generic systems
\item integrate generic and other systems
\item choose from different methods of integration
\item translate elements of a business strategy into concrete requirements for system integration
\end{list2}

\slide{Proficiencies}

{\bf Proficiencies}

The objective is that the students acquired proficiency in

\begin{list2}
\item choosing from different integration techniques
\item acquiring knowledge about development in standards for integration
\item adapting IT architecture so that future integration of systems is taken into account
\item converting elements in a business strategy to specific requirements for systems integration
\item adapting a system development method, so that it supports system integration
\end{list2}


\slide{Deliverables and Exam Procedure}

\begin{list2}
\item The course ends with a successful examination. The exam is individual, oral, censored, graded.
\item The duration of the exam is up to 30 minutes.
\item At the exam students can expect being asked any questions related to the learning objectives and presented material.
\end{list2}

Pre-conditions\\
Students need to fulfill certain requirements  completed mandatory tasks - to qualify for participating in the exam.
Fulfilling the requirements automatically signs the student up for an exam. Alternatively, failing in delivering a mandatory
task on time prevents the student from taking part in the exam.

\begin{list2}
\item Deliverables:
\item 1 mandatory assignment which can be team work up to 3/5 students
\item Both mandatory assignments are required in order to be entitled to the exam
\end{list2}



\slide{Primary literature}

\hlkrightpic{4cm}{0cm}{old_book_lumen_design_st_01.png}
Primary literature:
\begin{list2}
\item \emph{Enterprise Integration Patterns}, Gregor Hohpe and Bobby Woolf, 2004\\
ISBN: 978-0-321-20068-6 EIP for short
\item \emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018\\
ISBN: 978-1-61729-293-4
\item \emph{Service‑Oriented Architecture: Analysis and Design for Services and Microservices},\\ Thomas Erl, 2017
ISBN: 978-0-13-385858-7
\end{list2}
Supporting literature:
\begin{list2}
\item Various internet resources, to be decided
\end{list2}



\slide{Book: Enterprise Integration Patterns}

\hlkimage{6cm}{eip-book.png}

\emph{Enterprise Integration Patterns}, Gregor Hohpe and Bobby Woolf, 2004\\
ISBN: 978-0-321-20068-6 EIP for short

\slide{Companion Web Site}


\begin{quote}
"That's why Bobby Woolf and I documented a pattern language consisting of 65 integration patterns to establish a technology-independent vocabulary and a visual notation to design and document integration solutions. Each pattern not only presents a proven solution to a recurring problem, but also documents common "gotchas" and design considerations.

The patterns are brought to life with examples implemented in messaging technologies, such as JMS, SOAP, MSMQ, .NET, and other EAI Tools. The solutions are relevant for a wide range of integration tools and platforms, such as IBM WebSphere MQ, TIBCO, Vitria, WebMethods (Software AG), or Microsoft BizTalk, messaging systems, such as JMS, WCF, Rabbit MQ, or MSMQ, ESB's such as Apache Camel, Mule, WSO2, Oracle Service Bus, Open ESB, SonicMQ, Fiorano or Fuse ServiceMix."
\end{quote}

Source:\\
\link{https://www.enterpriseintegrationpatterns.com/}

\slide{Book: Camel in Action}

\hlkimage{5cm}{Ibsen-Camel-2ed-HI.png}

\emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018\\
ISBN: 978-1-61729-293-4


\slide{Book: Service-Oriented Architecture}

\hlkimage{5cm}{thomas-erl-book.png}
\emph{Service‑Oriented Architecture: Analysis and Design for Services and Microservices},\\ Thomas Erl, 2017
ISBN: 978-0-13-385858-7


\slide{Technologies used in this course}

The following tools and environments are examples that were introduced in this course:

\begin{list2}
\item Enterprise Integration Patterns (EIP) and Service-oriented Architecture (SOA)
\item Programming languages and frameworks Java, Spring, Python
\item Systems for running integration: TomCat, Jetty, Docker, Camel
\item Networking and network protocols: TCP/IP, HTTP, DNS, FTP, SMTP
\item Formats XML, XSLT, YAML, JSON, WSDL, GRPC, msgpack, protobuf, apache thrift
\item Web technologies and services: REST, API, SOAP
\item Databases: JDBC, Postgresql, ACID
\item Tools like Maven, Linux, APT, Ansible, Nginx, cURL, Git and Github
\item Message queueing systems: Apache ActiveMQ, RabbitMQ and Redis
\item Aggregated example platforms: Elastic stack, Logstash, Elasticsearch, Kibana
\item Cloud and virtualisation Docker, Kubernetes, Azure, AWS, microservices
\end{list2}






\slide{Exam subjects}

\begin{list2}
\item[1] Enterprise Integration Patterns (EIP)
\item[2] Service-oriented Architecture (SOA)
\item[3] Systems for running integration: {\bf Camel}, TomCat, Jetty, Docker, Kubernetes
\item[4] Networking and network protocols: TCP/IP, HTTP, DNS, FTP, SMTP
\item[5] Integration formats XML, XSLT, YAML, JSON, WSDL, in relation to system-integration
\item[6] Web technologies and services: REST, API, SOAP
\item[7] Databases: JDBC, Postgresql, ACID, persistence, resilience
\item[8] Toolboxes Maven, Linux, APT, Ansible, Nginx, cURL, Git and Github
\item[9] Message queueing systems: JMS, Apache ActiveMQ, RabbitMQ and Redis
\item[10] Aggregated example platforms: Elastic stack,  Elasticsearch, Logstash, Kibana
\end{list2}

Always relate this to system integration, what part do they play in system integration

\slide{1. Enterprise Integration Patterns (EIP)}



\slide{2. Service-oriented Architecture (SOA)}


\slide{3. Systems for running integration}

 {\bf Camel} TomCat, Jetty, Docker, Kubernetes


\slide{4. Networking and network protocols}

 TCP/IP, HTTP, DNS, FTP, SMTP

After inroducing these it would be natural to introduce Camel and how it can support these methods and protocols

\slide{5. Integration formats XML, XSLT, JSON, WSDL}

Make sure to relate to system-integration

Dont be afraid to talk about your opinion about these


\slide{6. Web technologies and services: REST, API, SOAP}

Introduce W3C, HTTP, then move quickly to the subjects REST, API, SOAP

\slide{7. Databases: JDBC, Postgresql}

We have used JDBC and Postgresql as examples
What is ACID, persistence, resilience

\slide{8. Toolboxes }

What are things you need to run and control development within system integration, examples could be:

Maven, Linux, APT, Ansible, Nginx, cURL, Git and Github

\slide{9. Message queueing systems}

We have spent a little time talking about
JMS, Apache ActiveMQ, RabbitMQ and Redis

\slide{10. Aggregated example platforms: Elastic stack}

What is the benefit of using a large packet with a lot of components, Elasticsearch, Logstash, Kibana




\slide{Part IV 14:15 45min}

Questions and exercises







\end{document}
